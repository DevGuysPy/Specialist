{% extends "user/AccountSettings.html" %}

{% block extra_css %}
    <link href="{{ url_for('static', filename='css/user_services.css') }}" rel="stylesheet">
{% endblock %}

{% block settings_content %}
    <form id="specialist_form" method="POST">
        {{ spec_form.csrf_token }}
        <!-- progressbar -->
        <ul id="progressbar">
            <li class="active first-step" id="first-step">Service Section</li>
            <li class="second-step" id="second-step">Personal Info</li>
            <li class="third-step" id="third-step">Location</li>
        </ul>

        <!-- fieldsets -->
        <div class="create-specialist-card">

            <fieldset>

                <h2 class="fs-title">Service info</h2>
                <h3 class="fs-subtitle">Step 1</h3>
                <div class="input-field">
                    <input type="text" id="category_selector"
                           class="form-input">
                </div>
                <label for="category_selector">Select category</label>
                <input type="text" id="service_selector"
                       disabled
                       class="form-input">
                {{ spec_form.service_id(type="hidden", id="selected_service_id") }}
                <label for="service_selector">Select Service</label>
                {{ spec_form.experience(id="specialist_experience") }}

                <div id="error_specialist_service_id" class="error center"></div>

                <input type="button" name="next"  class="next action-button " value="Next"/>

            </fieldset>


            <fieldset>

                <h2 class="fs-title">Personal Details</h2>
                <h3 class="fs-subtitle">Step 2</h3>
                {% if current_user.main_phone or current_user.extra_phone %}

                {% endif %}
                {% if not current_user.main_phone and not current_user.extra_phone %}
                    {{ spec_form.phone(id="specialist_phone") }}
                    <label for="specialist_phone" class="valid">Enter your contact number(It will be saved as extra one)</label>
                    <div id="error_specialist_phone" class="error center"></div>
                {% endif %}

                {{ spec_form.description(id="specialist_description", class="materialize-textarea", length="5000") }}
                <label for="specialist_description">Introduce yourself to clients</label>
                <div id="error_specialist_description" class="error center"></div>


                <input type="button" name="previous" class="previous action-button" value="Previous"/>
                <input type="button" name="next"  class="next action-button" value="Next"/>


            </fieldset>


            <fieldset>

                <h2 class="fs-title">Location</h2>
                <h3 class="fs-subtitle">Step 3</h3>
                <div class="card-content">

                    <input type="text" id="location_autocomplete">
                    <label for="location_autocomplete">Select your location</label>

                </div>

                <div id="location_details">
                    {{ spec_form.location.csrf_token }}
                    {{ spec_form.location.country(type="hidden", location_attr='country') }}
                    {{ spec_form.location.street(type="hidden", location_attr='route') }}
                    {{ spec_form.location.building(type="hidden", location_attr='street_number') }}
                    {{ spec_form.location.city(type="hidden", location_attr='locality') }}
                    {{ spec_form.location.state(type="hidden", location_attr='administrative_area_level_1') }}
                    {{ spec_form.location.latitude(type="hidden", location_attr='lat') }}
                    {{ spec_form.location.longitude(type="hidden", location_attr='lng') }}
                </div>
                <input type="button" name="previous" class=" previous action-button" value="Previous"/>
                <a href="#" id="specialist_submit" class="waves-effect waves-light submit action-button" style="margin: 0px">Done</a>
            </fieldset>



        </div>
    </form>
    {#    <div class="col l4 s12 align-right">#}
    {#        <div class="card">#}
    {#            <div class="card-title center"></div>#}
    {#            <ul class="collection with-header">#}
    {#                <li class="collection-header">#}
    {#                    <h5>We have more than 100500 companies in our system.</h5>#}
    {#                </li>#}
    {#                <li class="collection-item avatar">#}
    {#                    <img src="{{ url_for('static', filename='img/apple-logo.png') }}" alt="" class="circle">#}
    {#                    <span class="title">Apple</span><br>#}
    {#                    Offers - Web Development, Web Design and 15 more<br>#}
    {#                    <a>Learn more</a>#}
    {#                </li>#}
    {#                <li class="collection-item avatar">#}
    {#                    <img src="{{ url_for('static', filename='img/apple-logo.png') }}" alt="" class="circle">#}
    {#                    <span class="title">Apple</span><br>#}
    {#                    Offers - Web Development, Web Design and 15 more<br>#}
    {#                    <a>Learn more</a>#}
    {#                </li>#}
    {#                <li class="collection-item avatar">#}
    {#                    <img src="{{ url_for('static', filename='img/apple-logo.png') }}" alt="" class="circle">#}
    {#                    <span class="title">Apple</span><br>#}
    {#                    Offers - Web Development, Web Design and 15 more<br>#}
    {#                    <a>Learn more</a>#}
    {#                </li>#}
    {#            </ul>#}
    {#        </div>#}
    {##}
    {#        <div class="card">#}
    {#            <div class="card-content">#}
    {#                <div class="card-title center">Do you work in a company? <a href="{{ url_for('account_company') }}">Find your company or add it.</a></div>#}
    {#            </div>#}
    {#        </div>#}
    {#    </div>#}
    {#    </div>#}
    {#    </div>#}
{% endblock %}

{% block script %}
    <script src="{{ url_for('static', filename='js/jquery.geocomplete.js') }}"></script>
    <script src="{{ url_for('static', filename='js/createSpecialist.js') }}"></script>
    <script>
        initSpecCreation(
                "{{ url_for('create_specialist') }}",
                "{{ url_for('category_autocomplete') }}",
                "{{ url_for('service_autocomplete') }}"
        );
    </script>
{% endblock %}
